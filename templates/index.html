{% extends 'base.html' %}
{% block content %}

<!-- acerca de mi -->
<div id="acerca" class="row align-items-center mb-5">
  <div class="col-md-4 text-center">
    <img src="{{ url_for('static', filename='uploads/profile.jpg') }}" alt="perfil" class="img-fluid rounded-circle profile-img">
  </div>
  <div class="col-md-8">
    <h1 class="display-6">{{ personal.name }}</h1>
    <h4 class="text-muted">{{ personal.title }}</h4>
    <p class="lead">{{ personal.about }}</p>
    <p>
      <a href="{{ personal.linkedin }}" target="_blank">Linkedin</a> |
      <a href="{{ personal.github }}" target="_blank">Github</a> |
      <a href="{{ url_for('download_cv') }}">Descargar CV</a>
    </p>
  </div>
</div>

<hr class="my-4">

<!-- experiencia -->
<div class="d-flex justify-content-between align-items-center mb-3">
  <h3 id="experiencia" class="m-0">Experiencia</h3>

  {% if session.get('admin') %}
  <a href="{{ url_for('add_entry', tipo='experience') }}" 
      class="btn btn-sm btn-outline-success">
    <i class="bi bi-plus-lg"></i> Agregar
  </a>
  {% endif %}
</div>

<div class="row">
  {% for e in experiences %}
  <div class="col-md-6 mb-3">
    <div class="card bg-secondary text-light h-100 position-relative">

      {% if session.get('admin') %}
      <div class="position-absolute top-0 end-0 p-2 d-flex">
        <a href="{{ url_for('edit_entry', tipo='experience', id=e.id) }}" class="btn btn-sm btn-outline-light me-2" title="Editar">
          <i class="bi bi-pencil"></i>
        </a>
        <a href="{{ url_for('delete_entry', tipo='experience', id=e.id) }}" class="btn btn-sm btn-outline-danger" title="Eliminar"
            onclick="return confirm('¿Seguro que deseas eliminar esta experiencia?');">
          <i class="bi bi-x"></i>
        </a>
      </div>
      {% endif %}

      <div class="card-body">
        <h5 class="card-title">{{ e.company }}</h5>
        <h6 class="card-subtitle mb-2 text-muted">{{ e.role }}</h6>
        <p class="card-text small">{{ e.start_date }} - {{ e.end_date }}</p>
        <p class="card-text">{{ e.description }}</p>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

<hr class="my-4">



<!-- educacion -->
<div class="d-flex justify-content-between align-items-center mb-3">
  <h3 id="educacion" class="m-0">Educación</h3>

  {% if session.get('admin') %}
  <a href="{{ url_for('add_entry', tipo='education') }}" 
      class="btn btn-sm btn-outline-success">
    <i class="bi bi-plus-lg"></i> Agregar
  </a>
  {% endif %}
</div>

<div class="row">
  {% for e in education %}
  <div class="col-md-6 mb-3">
    <div class="card bg-secondary text-light h-100 position-relative">

      {% if session.get('admin') %}
      <div class="position-absolute top-0 end-0 p-2 d-flex">
        <a href="{{ url_for('edit_entry', tipo='education', id=e.id) }}" class="btn btn-sm btn-outline-light me-2" title="Editar">
          <i class="bi bi-pencil"></i>
        </a>
        <a href="{{ url_for('delete_entry', tipo='education', id=e.id) }}" class="btn btn-sm btn-outline-danger" title="Eliminar"
            onclick="return confirm('¿Seguro que deseas eliminar este registro?');">
          <i class="bi bi-x"></i>
        </a>
      </div>
      {% endif %}

      <div class="card-body">
        <h5 class="card-title">{{ e.institution }}</h5>
        <h6 class="card-subtitle mb-2 text-muted">{{ e.degree }}</h6>
        <p class="card-text small">{{ e.start_year }} - {{ e.end_year }}</p>
        <p class="card-text">{{ e.description }}</p>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

<hr class="my-4">


<!-- hard & soft skills -->
<h3 id="skills" class="mb-3">Hard & Soft Skills</h3>
<div class="row">
  {% for s in skills %}
  <div class="col-md-6 mb-3">
    <div class="bg-dark rounded p-3">
      <div class="d-flex justify-content-between">
        <span>{{ s.name }}</span>
        <span>{{ s.level }}%</span>
      </div>
      <div class="progress mt-1" style="height:8px;">
        <div class="progress-bar" role="progressbar" style="width:0%" data-target="{{ s.level }}"></div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>


<hr class="my-4">

<!-- proyectos -->
<h3 id="proyectos" class="mb-3">Proyectos</h3>
<div class="row g-3">

  <!-- proyecto 1 -->
  <div class="col-md-6">
    <div class="card bg-secondary text-light h-100">
      <img src="{{ url_for('static', filename='uploads/portfolio_web.jpg') }}" class="project-img" alt="Portfolio Web">
      <div class="card-body">
        <h5 class="card-title">Portfolio Web (Proyecto Integrador)</h5>
        <p class="card-text">
          Aplicación web full stack con Flask, MySQL y Bootstrap. Incluye login, panel de edición y diseño adaptable.
        </p>
        <a href="https://github.com/mateo-ulla/Proyecto-Integrador-Portfolio" class="btn btn-outline-light btn-sm" target="_blank">Ver en GitHub</a>
      </div>
    </div>
  </div>

  <!-- proyecto 2 -->
  <div class="col-md-6">
    <div class="card bg-secondary text-light h-100">
      <img src="{{ url_for('static', filename='uploads/detailhaus.jpg') }}" class="project-img" alt="Detailhaus">
      <div class="card-body">
        <h5 class="card-title">Detailhaus - Fundador</h5>
        <p class="card-text">
          Emprendimiento personal de detailing automotriz. Gestión de clientes, marketing digital y operaciones.
          Uso de WhatsApp Business, Facebook Ads y redes sociales (Instagram, Facebook y TikTok).
        </p>
      </div>
    </div>
  </div>

  <!-- proyecto 3 -->
  <div class="col-md-6">
    <div class="card bg-secondary text-light h-100">
      <img src="{{ url_for('static', filename='uploads/taller_mecanico.jpg') }}" class="project-img" alt="Taller Mecanico">
      <div class="card-body">
        <h5 class="card-title">Taller Mecánico (con Django)</h5>
        <p class="card-text">
          Proyecto desarrollado para un taller mecánico. Basado en el sistema previo hecho con Flet, este proyecto traslada la lógica
          a un sitio web con HTML, CSS, Bootstrap y Django Templates.
        </p>
        <a href="https://github.com/mateo-ulla/Taller-Mecanico-Django-V2" class="btn btn-outline-light btn-sm" target="_blank">Ver en GitHub</a>
      </div>
    </div>
  </div>

  <!-- proyecto 4 -->
  <div class="col-md-6">
    <div class="card bg-secondary text-light h-100">
      <img src="{{ url_for('static', filename='uploads/aula_virtual.jpg') }}" class="project-img" alt="Aula Virtual">
      <div class="card-body">
        <h5 class="card-title">Aula Virtual (con Flask)</h5>
        <p class="card-text">
          Aula Virtual es una aplicación web desarrollada con Python y Flask que permite la gestión de cursos, materiales, evaluaciones
          y usuarios en un entorno educativo digital. Utiliza MySQL como base de datos y Bootstrap para la interfaz.
        </p>
        <a href="https://github.com/mateo-ulla/Aula-Virtual" class="btn btn-outline-light btn-sm" target="_blank">Ver en GitHub</a>
      </div>
    </div>
  </div>

  <!-- proyecto 5 -->
  <div class="col-md-6">
    <div class="card bg-secondary text-light h-100">
      <img src="{{ url_for('static', filename='uploads/app_cobro.jpg') }}" class="project-img" alt="App de Cobro">
      <div class="card-body">
        <h5 class="card-title">Simulador de Cobro (API de Mercado Pago)</h5>
        <p class="card-text">
          App en Flask para simular compras y cobros con diferentes métodos de pago: tarjeta simulada y Mercado Pago (Checkout Pro).
        </p>
        <a href="https://github.com/mateo-ulla/App-de-cobro" class="btn btn-outline-light btn-sm" target="_blank">Ver en GitHub</a>
      </div>
    </div>
  </div>

  <!-- proyecto 6 -->
  <div class="col-md-6">
    <div class="card bg-secondary text-light h-100">
      <img src="{{ url_for('static', filename='uploads/copa_renault.jpg') }}" class="project-img" alt="Copa Renault App">
      <div class="card-body">
        <h5 class="card-title">Copa Renault App</h5>
        <p class="card-text">
          Aplicación web para la gestión de la Copa Renault, desarrollada con Flask y Bootstrap. Permite la administración de usuarios,
          equipos, fixtures, reservas de cantina y sponsors, con una interfaz moderna, responsiva y segura.
        </p>
        <a href="https://github.com/mateo-ulla/App-Copa-Renault" class="btn btn-outline-light btn-sm" target="_blank">Ver en GitHub</a>
      </div>
    </div>
  </div>

</div>

{% endblock %}
